import{d as E,c as d,a as f,s as m,b as G,t as v,e as C,f as T,i as g,g as l,T as I,S as x,F as D,u as M,h as P,j as A}from"./index-w2Xwa9IH.js";import{A as j,l as F}from"./logo-BLH1NvJP.js";const y={};async function B(e,i){if(y[e])return y[e];const r=`/bible-web/${i}/${e}.json`;try{const o=await fetch(r);if(!o.ok)throw new Error(`Erro: ${o.status} ${o.statusText}`);const a=await o.json();return y[e]=a,a}catch(o){return console.error("Erro ao buscar dados da Bíblia:",o),console.log(r),{error:o instanceof Error?o.message:"Erro desconhecido ao buscar dados da Bíblia."}}}async function H(e,i,r,o="static/bible/json"){if(!e||!i||r<=0||!Number.isInteger(r))return{error:"Parâmetros inválidos. Verifique a versão, livro e capítulo."};const a=await B(e,o);if("error"in a)return a;const t=a.find(s=>s.abbrev===i);return t?r>t.chapters.length?{error:`Capítulo ${r} não encontrado.`}:{book:t.name,verses:t.chapters[r-1]||[]}:{error:"Livro não encontrado."}}async function R(e,i,r="static/bible/json"){const o=await B(e,r);if("error"in o)return 0;const a=o.find(t=>t.abbrev.toLowerCase()===i.toLowerCase()||t.name.toLowerCase()===i.toLowerCase());return a?a.chapters.length:0}async function z(e,i="static/bible/json"){const r=await B(e,i);return"error"in r?r:r.map(({abbrev:o,name:a})=>({abbrev:o,name:a}))}const U="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M19.5%2016.5L19.5%204.5L18.75%203.75H9L8.25%204.5L8.25%207.5L5.25%207.5L4.5%208.25V20.25L5.25%2021H15L15.75%2020.25V17.25H18.75L19.5%2016.5ZM15.75%2015.75L15.75%208.25L15%207.5L9.75%207.5V5.25L18%205.25V15.75H15.75ZM6%209L14.25%209L14.25%2019.5L6%2019.5L6%209Z'%20fill='gray'/%3e%3c/svg%3e",Z="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20fill='%23000000'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='800px'%20height='800px'%20viewBox='0%200%20335.765%20335.765'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpolygon%20points='311.757,41.803%20107.573,245.96%2023.986,162.364%200,186.393%20107.573,293.962%20335.765,65.795%20'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",q="_icon_pi8nl_1",O={icon:q};var W=v('<img alt="Copy icon">');const Y=e=>{const[i,r]=d(!1);function o(){navigator.clipboard.writeText(e.text).then(()=>{r(!0),setTimeout(()=>r(!1),2e3)})}return(()=>{var a=W();return a.$$click=o,a.addEventListener("dragstart",t=>t.preventDefault()),f(t=>{var s=i()?Z:U,u=O.icon;return s!==t.e&&m(a,"src",t.e=s),u!==t.t&&G(a,t.t=u),t},{e:void 0,t:void 0}),a})()};E(["click"]);const J="_verseNumber_1w6gc_1",K="_selector_1w6gc_1",Q="_version_1w6gc_1",X="_center_1w6gc_1",p="_content_1w6gc_1",k={verseNumber:J,selector:K,version:Q,center:X,content:p};var ee=v("<p>"),te=v("<h1>"),re=v("<div>"),ne=v("<p>Nenhum verso encontrado.");const S=e=>{const i=e.url?`${e.url}${e.number}`:`#${e.number}`;return(()=>{var r=ee();return g(r,l(j,{get class(){return k.verseNumber},href:i,onClick:()=>e.onClick?.(e.number),get children(){return e.number}}),null),g(r,()=>"    "+e.text+"    ",null),g(r,l(Y,{get text(){return e.text}}),null),r})()},oe=e=>{const[i,r]=d();C(()=>{(async()=>{const a=await H(e.version,e.book,e.chapter);"error"in a?(console.error(`Erro em getBibleVerses(${e.version}, ${e.book}, ${e.chapter}):`,a.error),console.log(a)):r(a)})()},[e.version,e.book,e.chapter]);const o=T(()=>`${i()?.book} ${e.chapter}${e.verse?`:${e.verse}`:""} ${e.version.toUpperCase()}`);return(()=>{var a=re();return g(a,l(x,{get when(){return i()},get children(){return[l(I,{get children(){return o()}}),(()=>{var t=te();return g(t,o),t})(),l(x,{get when(){return e.verse>0},get children(){return l(S,{get text(){return i().verses[e.verse-1]||"Verse not found."},get number(){return e.verse}})}}),l(x,{get when(){return e.verse===0},get children(){return l(D,{get each(){return i().verses},get fallback(){return ne()},children:(t,s)=>l(S,{get number(){return s()+1},text:t,get url(){return`/bible-web/${e.version}/${e.book}/${e.chapter}/`},get onClick(){return e.onVerseClick}})})}})]}})),f(()=>m(a,"id",k.chapter)),a})()};var ae=v('<div><div><img width=50px alt="Bible Logo"><br></div><div><select name=book></select><input type=number name=chapter min=1>'),ie=v("<option>"),ce=v("<button>Next chapter."),se=v("<div><main><article>"),le=v("<em>Carregando..."),ue=v("<button>Full chapter.");const ve=e=>{const[i,r]=d([]),[o,a]=d(0);return C(()=>{(async()=>{const s=await z(e.version);"error"in s?console.error("Error in getAllBooks():",s.error):r(s)})()},[e.version]),C(()=>{const t=i().findIndex(s=>s.abbrev===e.book);a(t>=0?t:0)},[e.book,i]),(()=>{var t=ae(),s=t.firstChild,u=s.firstChild;u.nextSibling;var _=s.nextSibling,b=_.firstChild,w=b.nextSibling;return m(u,"src",F),g(s,l(j,{get href(){return`/bible-web/${e.version}/${o()}/${e.chapter}/${e.verse+"/"||""}select_version`},children:"Change version."}),null),b.addEventListener("change",c=>{const n=c.currentTarget.value;e.onchange(n)}),g(b,l(D,{get each(){return i()},children:c=>(()=>{var n=ie();return g(n,()=>c.name),f(()=>n.selected=c.abbrev===e.book),f(()=>n.value=c.abbrev),n})()})),w.addEventListener("change",c=>{const n=Number(c.currentTarget.value);!isNaN(n)&&n>=1&&n<=e.bookSize?e.onchange(void 0,n):c.currentTarget.value=e.chapter.toString()}),f(c=>{var n=k.selector,$=k.version,L=k.center,h=e.disabled,N=e.bookSize,V=e.disabled;return n!==c.e&&m(t,"id",c.e=n),$!==c.t&&m(s,"id",c.t=$),L!==c.a&&m(_,"id",c.a=L),h!==c.o&&(b.disabled=c.o=h),N!==c.i&&m(w,"max",c.i=N),V!==c.n&&(w.disabled=c.n=V),c},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),f(()=>w.value=e.chapter),t})()},be=()=>{const e=M(),i=P(),[r]=d(e.version||"en_kjv"),[o,a]=d(isNaN(Number(e.book))?e.book||"gn":""),[t,s]=d(Number(e.chapter)||1),[u,_]=d(Number(e.verse)||0),[b,w]=d(0);C(async()=>{try{if(o()===""){const n=await z(r());"error"in n||a(n[Number(e.book)]?.abbrev)}else{const n=await R(r(),o());w(n),n||console.error("Falha ao buscar o tamanho do livro.")}}catch(n){console.error("Erro:",n)}},[r,o]),C(()=>{o()!==""&&i(`/bible-web/${r()}/${o()}/${t()}/${u()||""}`)},[r,o,t,u]);function c(n,$){A(()=>{$&&s($),n&&(a(n),s(1))})}return l(x,{get when(){return o()!==""},get fallback(){return(()=>{var n=le();return n.style.setProperty("color","gray"),n})()},get children(){return[l(ve,{get version(){return r()},get book(){return o()},get bookSize(){return b()},get chapter(){return t()},get verse(){return u()},onchange:c,get disabled(){return u()!==0}}),(()=>{var n=se(),$=n.firstChild,L=$.firstChild;return g(L,l(oe,{get version(){return r()},get book(){return o()},get chapter(){return t()},get verse(){return u()},onVerseClick:_})),g(n,l(x,{get when(){return T(()=>typeof b()=="number"&&t()<b())()&&u()===0},get fallback(){return(()=>{var h=ue();return h.$$click=()=>_(0),h})()},get children(){var h=ce();return h.$$click=()=>s(t()+1),h}}),null),f(()=>m(n,"id",k.content)),n})()]}})};E(["click"]);export{be as default};
