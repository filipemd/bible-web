import{d as E,c as d,a as $,s as m,b as G,t as v,u as P,e as I,f as k,g as l,i as g,S as C,h as T,T as M,F as D}from"./index-BKvwnYq2.js";import{l as A,A as z}from"./logo-CqrAF7Vo.js";const y={};async function B(e,i){if(y[e])return y[e];const n=`/bible-web/${i}/${e}.json`;try{const t=await fetch(n);if(!t.ok)throw new Error(`Erro: ${t.status} ${t.statusText}`);const a=await t.json();return y[e]=a,a}catch(t){return console.error("Erro ao buscar dados da Bíblia:",t),console.log(n),{error:t instanceof Error?t.message:"Erro desconhecido ao buscar dados da Bíblia."}}}async function H(e,i,n,t="static/bible/json"){if(!e||!i||n<=0||!Number.isInteger(n))return{error:"Parâmetros inválidos. Verifique a versão, livro e capítulo."};const a=await B(e,t);if("error"in a)return a;const r=a.find(s=>s.abbrev===i);return r?n>r.chapters.length?{error:`Capítulo ${n} não encontrado.`}:{book:r.name,verses:r.chapters[n-1]||[]}:{error:"Livro não encontrado."}}async function F(e,i,n="static/bible/json"){const t=await B(e,n);if("error"in t)return 0;const a=t.find(r=>r.abbrev.toLowerCase()===i.toLowerCase()||r.name.toLowerCase()===i.toLowerCase());return a?a.chapters.length:0}async function j(e,i="static/bible/json"){const n=await B(e,i);return"error"in n?n:n.map(({abbrev:t,name:a})=>({abbrev:t,name:a}))}const R="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M19.5%2016.5L19.5%204.5L18.75%203.75H9L8.25%204.5L8.25%207.5L5.25%207.5L4.5%208.25V20.25L5.25%2021H15L15.75%2020.25V17.25H18.75L19.5%2016.5ZM15.75%2015.75L15.75%208.25L15%207.5L9.75%207.5V5.25L18%205.25V15.75H15.75ZM6%209L14.25%209L14.25%2019.5L6%2019.5L6%209Z'%20fill='gray'/%3e%3c/svg%3e",U="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20fill='%23000000'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='800px'%20height='800px'%20viewBox='0%200%20335.765%20335.765'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpolygon%20points='311.757,41.803%20107.573,245.96%2023.986,162.364%200,186.393%20107.573,293.962%20335.765,65.795%20'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",Z="_icon_pi8nl_1",q={icon:Z};var O=v('<img alt="Copy icon">');const W=e=>{const[i,n]=d(!1);function t(){navigator.clipboard.writeText(e.text).then(()=>{n(!0),setTimeout(()=>n(!1),2e3)})}return(()=>{var a=O();return a.$$click=t,a.addEventListener("dragstart",r=>r.preventDefault()),$(r=>{var s=i()?U:R,u=q.icon;return s!==r.e&&m(a,"src",r.e=s),u!==r.t&&G(a,r.t=u),r},{e:void 0,t:void 0}),a})()};E(["click"]);const Y="_verseNumber_1w6gc_1",J="_selector_1w6gc_1",K="_version_1w6gc_1",Q="_center_1w6gc_1",X="_content_1w6gc_1",_={verseNumber:Y,selector:J,version:K,center:Q,content:X};var p=v("<p>"),ee=v("<h1>"),te=v("<div>"),re=v("<p>Nenhum verso encontrado."),ne=v('<div><div><img width=50px alt="Bible Logo"><br></div><div><select name=book></select><input type=number name=chapter min=1>'),oe=v("<option>"),ae=v("<button>Próximo Capítulo."),ie=v("<div><main><article>"),ce=v("<em>Carregando..."),se=v("<button>Ler capítulo completo.");const S=e=>{const i=e.url?`${e.url}${e.number}`:`#${e.number}`;return(()=>{var n=p();return g(n,l(z,{get class(){return _.verseNumber},href:i,onClick:()=>e.onClick?.(e.number),get children(){return e.number}}),null),g(n,()=>"    "+e.text+"    ",null),g(n,l(W,{get text(){return e.text}}),null),n})()},le=e=>{const[i,n]=d();k(()=>{(async()=>{const a=await H(e.version,e.book,e.chapter);"error"in a?(console.error(`Erro em getBibleVerses(${e.version}, ${e.book}, ${e.chapter}):`,a.error),console.log(a)):n(a)})()},[e.version,e.book,e.chapter]);const t=T(()=>`${i()?.book} ${e.chapter}${e.verse?`:${e.verse}`:""} ${e.version.toUpperCase()}`);return(()=>{var a=te();return g(a,l(C,{get when(){return i()},get children(){return[l(M,{get children(){return t()}}),(()=>{var r=ee();return g(r,t),r})(),l(C,{get when(){return e.verse>0},get children(){return l(S,{get text(){return i().verses[e.verse-1]||"Verso não encontrado."},get number(){return e.verse}})}}),l(C,{get when(){return e.verse===0},get children(){return l(D,{get each(){return i().verses},get fallback(){return re()},children:(r,s)=>l(S,{get number(){return s()+1},text:r,get url(){return`/bible-web/${e.version}/${e.book}/${e.chapter}/`},get onClick(){return e.onVerseClick}})})}})]}})),$(()=>m(a,"id",_.chapter)),a})()},ue=e=>{const[i,n]=d([]),[t,a]=d(0);return k(()=>{(async()=>{const s=await j(e.version);"error"in s?console.error("Error in getAllBooks():",s.error):n(s)})()},[e.version]),k(()=>{const r=i().findIndex(s=>s.abbrev===e.book);a(r>=0?r:0)},[e.book,i]),(()=>{var r=ne(),s=r.firstChild,u=s.firstChild;u.nextSibling;var x=s.nextSibling,b=x.firstChild,w=b.nextSibling;return m(u,"src",A),g(s,l(z,{get href(){return`/bible-web/${e.version}/${t()}/${e.chapter}/${e.verse+"/"||""}select_version`},children:"Change version."}),null),b.addEventListener("change",c=>{const o=c.currentTarget.value;e.onchange(o)}),g(b,l(D,{get each(){return i()},children:c=>(()=>{var o=oe();return g(o,()=>c.name),$(()=>o.selected=c.abbrev===e.book),$(()=>o.value=c.abbrev),o})()})),w.addEventListener("change",c=>{const o=Number(c.currentTarget.value);!isNaN(o)&&o>=1&&o<e.bookSize?e.onchange(void 0,o):c.currentTarget.value=e.chapter.toString()}),$(c=>{var o=_.selector,f=_.version,L=_.center,h=e.disabled,V=e.bookSize,N=e.disabled;return o!==c.e&&m(r,"id",c.e=o),f!==c.t&&m(s,"id",c.t=f),L!==c.a&&m(x,"id",c.a=L),h!==c.o&&(b.disabled=c.o=h),V!==c.i&&m(w,"max",c.i=V),N!==c.n&&(w.disabled=c.n=N),c},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),$(()=>w.value=e.chapter),r})()},de=()=>{const e=P(),i=I(),[n]=d(e.version||"en_kjv"),[t,a]=d(isNaN(Number(e.book))?e.book||"gn":""),[r,s]=d(Number(e.chapter)||1),[u,x]=d(Number(e.verse)||0),[b,w]=d(0);k(async()=>{try{if(t()===""){const o=await j(n());"error"in o||a(o[Number(e.book)]?.abbrev)}else{const o=await F(n(),t());w(o),o||console.error("Falha ao buscar o tamanho do livro.")}}catch(o){console.error("Erro:",o)}},[n,t]),k(()=>{t()!==""&&i(`/bible-web/${n()}/${t()}/${r()}/${u()||""}`)},[n,t,r,u]),k(()=>{t()!==""&&s(1)},[t]);function c(o,f){o&&o!==t()&&a(o),f&&s(f)}return l(C,{get when(){return t()!==""},get fallback(){return(()=>{var o=ce();return o.style.setProperty("color","gray"),o})()},get children(){return[l(ue,{get version(){return n()},get book(){return t()},get bookSize(){return b()},get chapter(){return r()},get verse(){return u()},onchange:c,get disabled(){return u()!==0}}),(()=>{var o=ie(),f=o.firstChild,L=f.firstChild;return g(L,l(le,{get version(){return n()},get book(){return t()},get chapter(){return r()},get verse(){return u()},onVerseClick:x})),g(o,l(C,{get when(){return T(()=>typeof b()=="number"&&r()<b())()&&u()===0},get fallback(){return(()=>{var h=se();return h.$$click=()=>x(0),h})()},get children(){var h=ae();return h.$$click=()=>s(r()+1),h}}),null),$(()=>m(o,"id",_.content)),o})()]}})};E(["click"]);export{de as default};
